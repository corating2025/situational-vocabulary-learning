{"ast":null,"code":"import React,{useState,useRef,useEffect}from'react';import styled from'styled-components';import{jsx as _jsx}from\"react/jsx-runtime\";const MusicButton=styled.button`\n  position: fixed;\n  bottom: 20px;\n  right: 20px;\n  background: white;\n  border: none;\n  border-radius: 50%;\n  width: 50px;\n  height: 50px;\n  font-size: 1.5rem;\n  cursor: pointer;\n  box-shadow: 0 2px 10px rgba(0,0,0,0.1);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transition: all 0.3s ease;\n  z-index: 1000;\n\n  &:hover {\n    transform: scale(1.1);\n    box-shadow: 0 4px 15px rgba(0,0,0,0.2);\n  }\n`;function BackgroundMusic(){const[isPlaying,setIsPlaying]=useState(false);const[isLoaded,setIsLoaded]=useState(false);const audioRef=useRef(null);useEffect(()=>{// ÂàõÂª∫Èü≥È¢ëÂÖÉÁ¥†\nconst audio=new Audio();audio.src='/sounds/spring-nature.wav';audio.loop=true;audio.volume=0.3;// ÁõëÂê¨Âä†ËΩΩÂÆåÊàê‰∫ã‰ª∂\naudio.addEventListener('loadeddata',()=>{console.log('Èü≥È¢ëÂä†ËΩΩÂÆåÊàê');setIsLoaded(true);});// ÁõëÂê¨Êí≠ÊîæÁªìÊùü‰∫ã‰ª∂\naudio.addEventListener('ended',()=>{console.log('Èü≥È¢ëÊí≠ÊîæÁªìÊùü');setIsPlaying(false);});// ÁõëÂê¨ÈîôËØØ‰∫ã‰ª∂\naudio.addEventListener('error',e=>{console.error('Èü≥È¢ëÂä†ËΩΩÈîôËØØ:',e);});audioRef.current=audio;// Ê∏ÖÁêÜÂáΩÊï∞\nreturn()=>{audio.pause();audio.src='';audio.remove();};},[]);const handleClick=async()=>{if(!audioRef.current||!isLoaded)return;try{if(isPlaying){audioRef.current.pause();setIsPlaying(false);}else{// Â∞ùËØïÊí≠Êîæ\nawait audioRef.current.play();setIsPlaying(true);}}catch(error){console.error('Êí≠ÊîæÂ§±Ë¥•:',error);// Â¶ÇÊûúÊòØÁî®Êà∑‰∫§‰∫íÈóÆÈ¢òÔºåÂèØ‰ª•ÊèêÁ§∫Áî®Êà∑\nif(error.name==='NotAllowedError'){alert('ËØ∑ÂÖÅËÆ∏ÁΩëÈ°µÊí≠ÊîæÈü≥È¢ë');}}};return/*#__PURE__*/_jsx(MusicButton,{onClick:handleClick,title:isPlaying?\"ÁÇπÂáªÊöÇÂÅúËÉåÊôØÈü≥‰πê\":\"ÁÇπÂáªÊí≠ÊîæËÉåÊôØÈü≥‰πê\",disabled:!isLoaded,style:{opacity:isLoaded?1:0.5},children:isPlaying?'üîá':'üîä'});}export default BackgroundMusic;","map":{"version":3,"names":["React","useState","useRef","useEffect","styled","jsx","_jsx","MusicButton","button","BackgroundMusic","isPlaying","setIsPlaying","isLoaded","setIsLoaded","audioRef","audio","Audio","src","loop","volume","addEventListener","console","log","e","error","current","pause","remove","handleClick","play","name","alert","onClick","title","disabled","style","opacity","children"],"sources":["C:/Users/XXT/situational-vocabulary-learning/src/components/BackgroundMusic.js"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\r\nimport styled from 'styled-components';\r\n\r\nconst MusicButton = styled.button`\r\n  position: fixed;\r\n  bottom: 20px;\r\n  right: 20px;\r\n  background: white;\r\n  border: none;\r\n  border-radius: 50%;\r\n  width: 50px;\r\n  height: 50px;\r\n  font-size: 1.5rem;\r\n  cursor: pointer;\r\n  box-shadow: 0 2px 10px rgba(0,0,0,0.1);\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  transition: all 0.3s ease;\r\n  z-index: 1000;\r\n\r\n  &:hover {\r\n    transform: scale(1.1);\r\n    box-shadow: 0 4px 15px rgba(0,0,0,0.2);\r\n  }\r\n`;\r\n\r\nfunction BackgroundMusic() {\r\n  const [isPlaying, setIsPlaying] = useState(false);\r\n  const [isLoaded, setIsLoaded] = useState(false);\r\n  const audioRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    // ÂàõÂª∫Èü≥È¢ëÂÖÉÁ¥†\r\n    const audio = new Audio();\r\n    audio.src = '/sounds/spring-nature.wav';\r\n    audio.loop = true;\r\n    audio.volume = 0.3;\r\n\r\n    // ÁõëÂê¨Âä†ËΩΩÂÆåÊàê‰∫ã‰ª∂\r\n    audio.addEventListener('loadeddata', () => {\r\n      console.log('Èü≥È¢ëÂä†ËΩΩÂÆåÊàê');\r\n      setIsLoaded(true);\r\n    });\r\n\r\n    // ÁõëÂê¨Êí≠ÊîæÁªìÊùü‰∫ã‰ª∂\r\n    audio.addEventListener('ended', () => {\r\n      console.log('Èü≥È¢ëÊí≠ÊîæÁªìÊùü');\r\n      setIsPlaying(false);\r\n    });\r\n\r\n    // ÁõëÂê¨ÈîôËØØ‰∫ã‰ª∂\r\n    audio.addEventListener('error', (e) => {\r\n      console.error('Èü≥È¢ëÂä†ËΩΩÈîôËØØ:', e);\r\n    });\r\n\r\n    audioRef.current = audio;\r\n\r\n    // Ê∏ÖÁêÜÂáΩÊï∞\r\n    return () => {\r\n      audio.pause();\r\n      audio.src = '';\r\n      audio.remove();\r\n    };\r\n  }, []);\r\n\r\n  const handleClick = async () => {\r\n    if (!audioRef.current || !isLoaded) return;\r\n\r\n    try {\r\n      if (isPlaying) {\r\n        audioRef.current.pause();\r\n        setIsPlaying(false);\r\n      } else {\r\n        // Â∞ùËØïÊí≠Êîæ\r\n        await audioRef.current.play();\r\n        setIsPlaying(true);\r\n      }\r\n    } catch (error) {\r\n      console.error('Êí≠ÊîæÂ§±Ë¥•:', error);\r\n      // Â¶ÇÊûúÊòØÁî®Êà∑‰∫§‰∫íÈóÆÈ¢òÔºåÂèØ‰ª•ÊèêÁ§∫Áî®Êà∑\r\n      if (error.name === 'NotAllowedError') {\r\n        alert('ËØ∑ÂÖÅËÆ∏ÁΩëÈ°µÊí≠ÊîæÈü≥È¢ë');\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <MusicButton \r\n      onClick={handleClick}\r\n      title={isPlaying ? \"ÁÇπÂáªÊöÇÂÅúËÉåÊôØÈü≥‰πê\" : \"ÁÇπÂáªÊí≠ÊîæËÉåÊôØÈü≥‰πê\"}\r\n      disabled={!isLoaded}\r\n      style={{ opacity: isLoaded ? 1 : 0.5 }}\r\n    >\r\n      {isPlaying ? 'üîá' : 'üîä'}\r\n    </MusicButton>\r\n  );\r\n}\r\n\r\nexport default BackgroundMusic; "],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,MAAM,CAAEC,SAAS,KAAQ,OAAO,CAC1D,MAAO,CAAAC,MAAM,KAAM,mBAAmB,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAEvC,KAAM,CAAAC,WAAW,CAAGH,MAAM,CAACI,MAAM;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAED,QAAS,CAAAC,eAAeA,CAAA,CAAG,CACzB,KAAM,CAACC,SAAS,CAAEC,YAAY,CAAC,CAAGV,QAAQ,CAAC,KAAK,CAAC,CACjD,KAAM,CAACW,QAAQ,CAAEC,WAAW,CAAC,CAAGZ,QAAQ,CAAC,KAAK,CAAC,CAC/C,KAAM,CAAAa,QAAQ,CAAGZ,MAAM,CAAC,IAAI,CAAC,CAE7BC,SAAS,CAAC,IAAM,CACd;AACA,KAAM,CAAAY,KAAK,CAAG,GAAI,CAAAC,KAAK,CAAC,CAAC,CACzBD,KAAK,CAACE,GAAG,CAAG,2BAA2B,CACvCF,KAAK,CAACG,IAAI,CAAG,IAAI,CACjBH,KAAK,CAACI,MAAM,CAAG,GAAG,CAElB;AACAJ,KAAK,CAACK,gBAAgB,CAAC,YAAY,CAAE,IAAM,CACzCC,OAAO,CAACC,GAAG,CAAC,QAAQ,CAAC,CACrBT,WAAW,CAAC,IAAI,CAAC,CACnB,CAAC,CAAC,CAEF;AACAE,KAAK,CAACK,gBAAgB,CAAC,OAAO,CAAE,IAAM,CACpCC,OAAO,CAACC,GAAG,CAAC,QAAQ,CAAC,CACrBX,YAAY,CAAC,KAAK,CAAC,CACrB,CAAC,CAAC,CAEF;AACAI,KAAK,CAACK,gBAAgB,CAAC,OAAO,CAAGG,CAAC,EAAK,CACrCF,OAAO,CAACG,KAAK,CAAC,SAAS,CAAED,CAAC,CAAC,CAC7B,CAAC,CAAC,CAEFT,QAAQ,CAACW,OAAO,CAAGV,KAAK,CAExB;AACA,MAAO,IAAM,CACXA,KAAK,CAACW,KAAK,CAAC,CAAC,CACbX,KAAK,CAACE,GAAG,CAAG,EAAE,CACdF,KAAK,CAACY,MAAM,CAAC,CAAC,CAChB,CAAC,CACH,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAC,WAAW,CAAG,KAAAA,CAAA,GAAY,CAC9B,GAAI,CAACd,QAAQ,CAACW,OAAO,EAAI,CAACb,QAAQ,CAAE,OAEpC,GAAI,CACF,GAAIF,SAAS,CAAE,CACbI,QAAQ,CAACW,OAAO,CAACC,KAAK,CAAC,CAAC,CACxBf,YAAY,CAAC,KAAK,CAAC,CACrB,CAAC,IAAM,CACL;AACA,KAAM,CAAAG,QAAQ,CAACW,OAAO,CAACI,IAAI,CAAC,CAAC,CAC7BlB,YAAY,CAAC,IAAI,CAAC,CACpB,CACF,CAAE,MAAOa,KAAK,CAAE,CACdH,OAAO,CAACG,KAAK,CAAC,OAAO,CAAEA,KAAK,CAAC,CAC7B;AACA,GAAIA,KAAK,CAACM,IAAI,GAAK,iBAAiB,CAAE,CACpCC,KAAK,CAAC,WAAW,CAAC,CACpB,CACF,CACF,CAAC,CAED,mBACEzB,IAAA,CAACC,WAAW,EACVyB,OAAO,CAAEJ,WAAY,CACrBK,KAAK,CAAEvB,SAAS,CAAG,UAAU,CAAG,UAAW,CAC3CwB,QAAQ,CAAE,CAACtB,QAAS,CACpBuB,KAAK,CAAE,CAAEC,OAAO,CAAExB,QAAQ,CAAG,CAAC,CAAG,GAAI,CAAE,CAAAyB,QAAA,CAEtC3B,SAAS,CAAG,IAAI,CAAG,IAAI,CACb,CAAC,CAElB,CAEA,cAAe,CAAAD,eAAe","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}